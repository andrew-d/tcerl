break out matchspec anal into seperate library
